<!doctype html>
<html lang="cs">
  <head>
      <meta charset="utf-8" />
      <title>CESNET volá o pomoc</title>
      <style>
.cen { text-align:center; }
#counter { font-size: 72pt; font-decoration: bold; }
#heading { font-size: 32pt; }
#footer  { font-size: 16pt; }
      </style>
  </head>
  <body>
    <p class="cen">
      <div class="cen" id="heading"></div>
      <div class="cen" id="counter"></div>
      <div class="cen" id="footer"></div>
    </p>
  </body>
  <script>
totaldebt = 20320000;
duedate = new Date(2017, 0)
startdebt = 0;
startdate = new Date(2016, 0)
debtperms = (totaldebt - startdebt) / (duedate-startdate)

function updateDebt(domdata) {
  var now = new Date()
  var debtnow = (now - startdate) * debtperms
  var counter = document.getElementById("counter");
  counter.innerHTML= debtnow.toLocaleString(undefined, {"style":"currency",
                                                        "currency":"CZK"});
  var refreshms = (0.01 - debtnow%0.01)/debtperms
  setTimeout(updateDebt, refreshms);
}

window.onload = function() {
  document.getElementById("heading").innerHTML = "Sdružení CESNET chybí " +
                                               "v této chvíli na provoz:";
  updateDebt();
  document.getElementById("footer").innerHTML = "Celková částka chybějící " +
      "v rozpočtu na rok 2016 je " + totaldebt.toLocaleString(undefined,
                                                  {"style":"currency",
                                                    "currency":"CZK"}); 
}
  </script>
</html>
